# set backend <%= @backend_name %>
backend <%= @backend_name %> {
  .host = "<%= @host %>";
  .port = "<%= @port %>";
  <%- if @probe -%>
  .probe = <%= @probe %>;
  <%- end -%>
  <%- if @connect_timeout -%>
  .connect_timeout = <% if @connect_timeout.is_a? Integer %><%= "#{@connect_timeout}s" %><% else %><%= @connect_timeout %><% end %>;
  <%- end -%>
  <%- if @first_byte_timeout -%>
  .first_byte_timeout = <% if @first_byte_timeout.is_a? Integer %><%= "#{@first_byte_timeout}s" %><% else %><%= @first_byte_timeout %><% end %>;
  <%- end -%>
  <%- if @between_bytes_timeout -%>
  .between_bytes_timeout = <% if @between_bytes_timeout.is_a? Integer %><%= "#{@between_bytes_timeout}s" %><% else %><%= @between_bytes_timeout %><% end %>;
  <%- end -%>
  <%- if @max_connections -%>
  .max_connections = <%= @max_connections %>;
  <%- end -%>
  <%- if @ssl -%>
  .ssl = <%= @ssl %>;
  <%- end -%>
  <%- if @ssl_sni -%>
  .ssl_sni = <%= @ssl_sni %>;
  <%- end -%>
  <%- if @ssl_verify_peer -%>
  .ssl_verify_peer = <%= @ssl_verify_peer %>;
  <%- end -%>
  <%- if @ssl_verify_host -%>
  .ssl_verify_host = <%= @ssl_verify_host %>;
  <%- end -%>
  <%- if @host_header -%>
  .host_header = "<%= @host_header %>";
  <%- end -%>
  <%- if @certificate -%>
  .certificate = "<%= @certificate %>";
  <%- end -%>
}
